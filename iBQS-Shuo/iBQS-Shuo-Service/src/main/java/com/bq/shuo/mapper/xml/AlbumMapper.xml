<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bq.shuo.mapper.AlbumMapper">



	<select id="selectIdPage" resultType="java.lang.String">
		select id_ from bq_album
		<where>
			<if test="cm.keyword != null and cm.keyword != ''">
				and (
					or subject_id like CONCAT('%',#{cm.keyword},'%')
					or layer_id like CONCAT('%',#{cm.keyword},'%')
					or user_id like CONCAT('%',#{cm.keyword},'%')
					or liked_num like CONCAT('%',#{cm.keyword},'%')
					or image_ like CONCAT('%',#{cm.keyword},'%')
					or image_type like CONCAT('%',#{cm.keyword},'%')
					or image_width like CONCAT('%',#{cm.keyword},'%')
					or image_height like CONCAT('%',#{cm.keyword},'%')
				)
			</if>
		</where>
	</select>
    <select id="selectIdBySubjectId" resultType="java.lang.String">
		SELECT id_ FROM bq_album
		WHERE enable_ = 1 AND subject_id = #{subjectId}
	</select>

	<delete id="deleteBySubjectId">
		DELETE FROM bq_album WHERE subject_id = #{id}
	</delete>
</mapper>
